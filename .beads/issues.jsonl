{"id":"mc-fun-1","title":"Enable RCON on Minecraft server","description":"Enable RCON in server.properties, set password, add port proxy in Incus","status":"closed","priority":1,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-15T16:44:51.617585042-05:00","created_by":"phiat","updated_at":"2026-02-15T16:45:52.627157266-05:00","closed_at":"2026-02-15T16:45:52.627157266-05:00","close_reason":"RCON enabled, password set, port proxy added, server restarted and RCON confirmed running"}
{"id":"mc-fun-10","title":"In-game LLM chat with model switching","description":"Mineflayer bot with !ask and !model prefix commands. Fetch Groq model list, cache locally. Default to openai/gpt-oss-20b. Support !ask <question>, !model <name>, !models to list.","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T18:05:23.755609318-05:00","created_by":"phiat","updated_at":"2026-02-15T18:13:55.571797194-05:00","closed_at":"2026-02-15T18:13:55.571797194-05:00","close_reason":"ChatBot rewritten with !ask/!model/!models/!personality/!reset commands. ModelCache caches Groq models to ETS+disk. Needs GROQ_API_KEY to test."}
{"id":"mc-fun-11","title":"LiveView dashboard","description":"Phoenix LiveView control panel: bot management, chat feed, effects panel, music player, display text tool, RCON console, event log. Replace default page.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T18:05:23.793408819-05:00","created_by":"phiat","updated_at":"2026-02-15T18:13:47.643178234-05:00","closed_at":"2026-02-15T18:13:47.643178234-05:00","close_reason":"Created LiveView dashboard with RCON console, bots, effects, display, events"}
{"id":"mc-fun-12","title":"Bot behaviors - patrol, follow, guard","description":"Behavior system for mineflayer bots: patrol routes, follow player, guard area, auto-farm. Command-driven via !patrol, !follow, !guard.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T18:05:23.844097278-05:00","created_by":"phiat","updated_at":"2026-02-15T18:13:47.663390634-05:00","closed_at":"2026-02-15T18:13:47.663390634-05:00","close_reason":"Created BotBehaviors with patrol, follow, guard. Updated bridge.js"}
{"id":"mc-fun-13","title":"Fix log watcher for remote server","description":"LogWatcher currently reads local ./data/logs/latest.log but MC server is on miniwini-1. Options: SSH tail, Docker volume mount, or RCON-based log reading.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T18:05:23.894834497-05:00","created_by":"phiat","updated_at":"2026-02-15T18:13:44.313477075-05:00","closed_at":"2026-02-15T18:13:44.313477075-05:00","close_reason":"Rewrote LogWatcher for RCON polling"}
{"id":"mc-fun-14","title":"Audio file playback in-game","description":"Stream/play audio files from PC in Minecraft. Research approaches: resource packs, rapid note block sequencing, custom sound events, or external audio sync.","notes":"Deprioritized — focus on bot config/actions first. Music.ex exists with note_block sequencing but no audio file streaming yet.","status":"open","priority":3,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T18:05:23.944017893-05:00","created_by":"phiat","updated_at":"2026-02-15T21:19:33.358904401-05:00"}
{"id":"mc-fun-15","title":"Add dig/place/equip actions to bridge.js","description":"bridge.js handleCommand only supports chat/whisper/move/look/jump/sneak/attack/inventory/position/players/goto/follow/quit. Need to add dig, place, equip, use, craft, drop using mineflayer API (bot.dig, bot.placeBlock, bot.equip, etc). This is a prerequisite for the LLM-to-action pipeline.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T20:20:20.661767267-05:00","created_by":"phiat","updated_at":"2026-02-15T20:54:44.795389065-05:00","closed_at":"2026-02-15T20:54:44.795389065-05:00","close_reason":"Added dig/place/equip/craft/drop to bridge.js and Bot.ex"}
{"id":"mc-fun-16","title":"LLM-to-action pipeline: translate LLM responses into bot commands","description":"ChatBot currently only sends LLM text responses back as chat messages. The bot says 'I'll dig that for you' but never actually digs. Need to use Groq tool/function calling to get structured action payloads alongside chat responses, then dispatch them to McFun.Bot.send_command/2. Depends on bridge.js having the actions available.","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T20:20:23.225803505-05:00","created_by":"phiat","updated_at":"2026-02-15T20:57:32.313892135-05:00","closed_at":"2026-02-15T20:57:32.313892135-05:00","close_reason":"ActionParser module + dig_looking_at in bridge.js + updated ChatBot personality prompt","dependencies":[{"issue_id":"mc-fun-16","depends_on_id":"mc-fun-15","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"mc-fun-17","title":"Fix model label not updating on bot card","description":"Per-bot model dropdown change_bot_model handler rebuilds bot_statuses but the select element may not re-render. Add unique id to force DOM update. Also add flash feedback to global select_model handler.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T20:34:55.606734029-05:00","created_by":"phiat","updated_at":"2026-02-15T20:44:22.780495734-05:00","closed_at":"2026-02-15T20:44:22.780495734-05:00","close_reason":"Added unique id on per-bot model select, flash on model change"}
{"id":"mc-fun-18","title":"Bot config modal with per-bot settings","description":"Add a configuration modal for each bot (like lilbots AgentConfigPanel). Click CONFIGURE on a bot card to open modal with tabs: LLM (model, personality, conversations), BEHAVIOR (patrol/follow/guard), ACTIONS (chat/goto/jump), STATUS (health/position/inventory). Port patterns from lilbots.","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T20:35:06.868282212-05:00","created_by":"phiat","updated_at":"2026-02-15T20:44:22.798779916-05:00","closed_at":"2026-02-15T20:44:22.798779916-05:00","close_reason":"Bot config modal with LLM/BEHAVIOR/ACTIONS tabs"}
{"id":"mc-fun-19","title":"Preset personality system for bots","description":"Port Lilbots.Presets to McFun.Presets — categorized bot personalities with system_prompt, traits, temperature. Add preset selector to deploy panel and bot config modal. Adapt prompts for Minecraft context.","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T20:35:13.550528093-05:00","created_by":"phiat","updated_at":"2026-02-15T20:44:22.818560004-05:00","closed_at":"2026-02-15T20:44:22.818560004-05:00","close_reason":"McFun.Presets with 22 presets, preset selector in deploy + config modal"}
{"id":"mc-fun-2","title":"Scaffold Phoenix project mc_fun","description":"mix phx.new mc_fun with no-ecto/no-mailer/no-dashboard, add deps req/jason/dotenvy","status":"closed","priority":1,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-15T16:44:53.437874507-05:00","created_by":"phiat","updated_at":"2026-02-15T16:46:54.357505353-05:00","closed_at":"2026-02-15T16:46:54.357505353-05:00","close_reason":"Phoenix project scaffolded with deps, .env config, runtime.exs configured"}
{"id":"mc-fun-20","title":"Load mineflayer-pathfinder in bridge.js","description":"bridge.js checks bot.pathfinder but never loads the plugin. Without this, goto/follow/patrol use broken fallback. Add pathfinder plugin load + Movements init on spawn.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T20:35:13.574766909-05:00","created_by":"phiat","updated_at":"2026-02-15T20:54:20.584831767-05:00","closed_at":"2026-02-15T20:54:20.584831767-05:00","close_reason":"Pathfinder loaded in bridge.js, npm installed, fallback preserved"}
{"id":"mc-fun-21","title":"Behavior controls in UI","description":"Expose BotBehaviors (patrol/follow/guard) in bot config modal. Patrol waypoint editor, follow player selector, guard position inputs. All backend code exists.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T20:35:13.598215051-05:00","created_by":"phiat","updated_at":"2026-02-15T20:44:26.27022873-05:00","closed_at":"2026-02-15T20:44:26.27022873-05:00","close_reason":"Behavior controls in config modal (patrol/follow/guard)","dependencies":[{"issue_id":"mc-fun-21","depends_on_id":"mc-fun-18","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"mc-fun-22","title":"Bot action controls in UI","description":"Actions tab in config modal: chat-as-bot, goto coordinates, jump/sneak/attack. All actions exist in bridge.js.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T20:35:13.619136082-05:00","created_by":"phiat","updated_at":"2026-02-15T20:44:26.288209729-05:00","closed_at":"2026-02-15T20:44:26.288209729-05:00","close_reason":"Bot action controls in config modal (chat/goto/jump/sneak/attack/tp)","dependencies":[{"issue_id":"mc-fun-22","depends_on_id":"mc-fun-18","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"mc-fun-23","title":"Fix stop_bot race condition","description":"stop_bot calls terminate_child then immediately rebuilds state. Use delayed refresh instead.","status":"closed","priority":2,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T20:35:13.639714628-05:00","created_by":"phiat","updated_at":"2026-02-15T20:46:56.814109621-05:00","closed_at":"2026-02-15T20:46:56.814109621-05:00","close_reason":"Optimistic UI update + delayed refresh for async terminate"}
{"id":"mc-fun-24","title":"Bot status display (health/position/inventory)","description":"Show bot vitals in STATUS tab. Requires event caching for bridge.js health/position events.","status":"closed","priority":3,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T20:35:13.661215034-05:00","created_by":"phiat","updated_at":"2026-02-15T20:59:00.807142661-05:00","closed_at":"2026-02-15T20:59:00.807142661-05:00","close_reason":"Bot status display with HP/food bars, position, dimension on cards","dependencies":[{"issue_id":"mc-fun-24","depends_on_id":"mc-fun-18","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"mc-fun-25","title":"Extract dashboard template to .heex + components","description":"dashboard_live.ex is 1320 lines with 700-line inline template. Extract to dashboard_live.html.heex. Extract bot_card, deploy_panel, bot_config_modal as function components in components/dashboard_components.ex. Would reduce main file to ~500 lines.","status":"closed","priority":2,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:21:09.929309018-05:00","created_by":"phiat","updated_at":"2026-02-15T21:39:19.916620198-05:00","closed_at":"2026-02-15T21:39:19.916620198-05:00","close_reason":"Extracted 700-line inline template to .heex + 3 function components (deploy_panel, bot_card, bot_config_modal)"}
{"id":"mc-fun-26","title":"Replace 5s full status rebuild with incremental PubSub updates","description":"refresh_status timer rebuilds all bot_statuses every 5s via build_bot_statuses(). Already subscribed to PubSub bot events. Update statuses incrementally from events instead. Keep timer only for RCON status and player list which lack event streams.","status":"closed","priority":2,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:22.946074525-05:00","created_by":"phiat","updated_at":"2026-02-15T21:26:58.109963563-05:00","closed_at":"2026-02-15T21:26:58.109963563-05:00","close_reason":"Completed by background agents"}
{"id":"mc-fun-27","title":"Add stable IDs to dynamic lists (bot cards, events, RCON history)","description":"Bot cards (:for={bot <- @bots}), RCON history, and event stream lack stable id attributes. LiveView can't efficiently diff — causes full re-render on any change. Add id={\"bot-card-\\#{bot}\"} etc. Consider LiveView streams for events list.","status":"closed","priority":2,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:22.966851828-05:00","created_by":"phiat","updated_at":"2026-02-15T21:26:58.109966606-05:00","closed_at":"2026-02-15T21:26:58.109966606-05:00","close_reason":"Completed by background agents"}
{"id":"mc-fun-28","title":"Add phx-debounce to text inputs that fire on every keystroke","description":"rcon_input, bot_spawn_name, effect_target all use phx-change without debounce. Deploy personality correctly uses debounce=500. Add phx-debounce=300 to these inputs.","status":"closed","priority":3,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:22.987070962-05:00","created_by":"phiat","updated_at":"2026-02-15T22:06:05.156557313-05:00","closed_at":"2026-02-15T22:06:05.156557313-05:00","close_reason":"Added phx-debounce=300 to rcon_input, effect_target, bot_name_input"}
{"id":"mc-fun-29","title":"Add loading states for async operations (RCON, effects, display)","description":"RCON commands, effects, and display text use Task.start with no loading indicator. User gets no feedback action is in progress. Add loading assigns and phx-click-loading class to buttons. Prevent double-clicks.","status":"closed","priority":3,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:23.008045127-05:00","created_by":"phiat","updated_at":"2026-02-16T00:19:19.524320946-05:00","closed_at":"2026-02-16T00:19:19.524320946-05:00","close_reason":"Added phx-disable-with to all async action buttons"}
{"id":"mc-fun-3","title":"Implement RCON GenServer","description":"Pure Elixir RCON protocol client as GenServer with TCP socket management","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T16:44:54.693755863-05:00","created_by":"phiat","updated_at":"2026-02-15T16:53:49.386895799-05:00","closed_at":"2026-02-15T16:53:49.386895799-05:00","close_reason":"RCON GenServer working, connects/auths/sends commands","dependencies":[{"issue_id":"mc-fun-3","depends_on_id":"mc-fun-2","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"mc-fun-30","title":"Clear flash on tab switch + add ARIA accessibility","description":"Flash messages persist across tab switches. Add clear_flash() to switch_tab handler. Also add role=tablist, aria-selected, role=dialog, aria-modal to tabs and modal for screen reader support.","status":"closed","priority":4,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:23.028694435-05:00","created_by":"phiat","updated_at":"2026-02-16T12:51:28.166577198-05:00","closed_at":"2026-02-16T12:51:28.166577198-05:00","close_reason":"Added clear_flash on tab switch, ARIA tablist/tab/tabpanel on dashboard, ARIA dialog/modal on bot config modal"}
{"id":"mc-fun-31","title":"Pre-fill modal form values with bot's current position","description":"Guard and goto forms in config modal use hardcoded defaults (0,64,0). Pre-fill with bot's current position from Bot.status/1 when opening modal for better UX.","status":"closed","priority":4,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:23.050480046-05:00","created_by":"phiat","updated_at":"2026-02-16T00:19:19.543766062-05:00","closed_at":"2026-02-16T00:19:19.543766062-05:00","close_reason":"Guard form pre-fills from bot position via guard_default helper"}
{"id":"mc-fun-32","title":"Fix Bot.ex silent position poll failure (zombie state)","description":"poll_position rescues all errors with _ -> :ok. If port is dead, polling fails silently forever while GenServer appears alive. Check Port.info before commanding, or let it crash.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:46.808444395-05:00","created_by":"phiat","updated_at":"2026-02-15T21:26:58.109928027-05:00","closed_at":"2026-02-15T21:26:58.109928027-05:00","close_reason":"Completed by background agents"}
{"id":"mc-fun-33","title":"Fix ChatBot orphaned LLM Tasks on crash","description":"Task.start spawns unlinked process. If ChatBot crashes while LLM call is in-flight, Task sends to dead pid. Use Task.Supervisor or track/clean up Task refs in terminate/2.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:46.829014963-05:00","created_by":"phiat","updated_at":"2026-02-15T21:26:58.109956832-05:00","closed_at":"2026-02-15T21:26:58.109956832-05:00","close_reason":"Completed by background agents"}
{"id":"mc-fun-34","title":"Fix BotBehaviors race condition on concurrent start","description":"start_patrol/follow/guard call stop() then start_child(). Concurrent calls both succeed at stop(), then both start_child(), creating two behavior processes. Need mutex or check :already_started.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:46.850548916-05:00","created_by":"phiat","updated_at":"2026-02-15T21:26:58.109961447-05:00","closed_at":"2026-02-15T21:26:58.109961447-05:00","close_reason":"Completed by background agents"}
{"id":"mc-fun-35","title":"ActionParser: limit to single action per response","description":"Parser matches ALL regex patterns and executes them all. 'I'll follow you and dig that block' triggers both follow AND dig, causing conflicts. Take only the first/highest-priority match.","status":"closed","priority":2,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:46.871434902-05:00","created_by":"phiat","updated_at":"2026-02-15T22:02:16.385762562-05:00","closed_at":"2026-02-15T22:02:16.385762562-05:00","close_reason":"Take only first/highest-priority pattern match"}
{"id":"mc-fun-36","title":"Fix bridge.js death handler: let Elixir decide restart","description":"On bot death, bridge.js waits 1s then force-exits with process.exit(0). This is abrupt — send death event and let Bot.ex handle lifecycle. Currently prevents graceful respawn.","status":"closed","priority":2,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:46.892165022-05:00","created_by":"phiat","updated_at":"2026-02-15T22:02:16.405753729-05:00","closed_at":"2026-02-15T22:02:16.405753729-05:00","close_reason":"Send death event only, let Elixir handle lifecycle"}
{"id":"mc-fun-37","title":"Fix RCON reconnect: reply to pending requests on connection loss","description":"If reconnect fails, pending GenServer.call callers block for 5s until timeout. Reply with {:error, :connection_lost} before stopping.","status":"closed","priority":2,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:46.914474153-05:00","created_by":"phiat","updated_at":"2026-02-15T22:02:16.42479356-05:00","closed_at":"2026-02-15T22:02:16.42479356-05:00","close_reason":"Reply {:error, :connection_lost} to pending callers before reconnect"}
{"id":"mc-fun-38","title":"Add TTL eviction to ChatBot conversations map","description":"conversations map never evicts inactive players. 1000 unique whisper players = unbounded memory. Add TTL-based eviction or cap at ~50 players.","status":"closed","priority":3,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:46.934789228-05:00","created_by":"phiat","updated_at":"2026-02-15T22:06:05.177656977-05:00","closed_at":"2026-02-15T22:06:05.177656977-05:00","close_reason":"Added last_active tracking, 1hr TTL eviction, 50-player cap"}
{"id":"mc-fun-39","title":"Fix bridge.js movement fallback: clear previous setTimeout","description":"Pathfinder fallback uses setControlState+setTimeout(clearControls,2000). Second move command arrives before timeout, first timeout clears second move. Track and clear previous timers.","status":"closed","priority":3,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:46.955700584-05:00","created_by":"phiat","updated_at":"2026-02-15T22:06:05.200143293-05:00","closed_at":"2026-02-15T22:06:05.200143293-05:00","close_reason":"Track movementTimer, clearTimeout before setting new one"}
{"id":"mc-fun-4","title":"Implement Mix task CLI","description":"mix mc.cmd, mix mc.give, mix mc.weather, mix mc.players convenience tasks","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T16:44:55.776865707-05:00","created_by":"phiat","updated_at":"2026-02-15T16:53:49.407485757-05:00","closed_at":"2026-02-15T16:53:49.407485757-05:00","close_reason":"Mix tasks mc.cmd/players/give/weather/say/tp/time all working","dependencies":[{"issue_id":"mc-fun-4","depends_on_id":"mc-fun-3","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"mc-fun-40","title":"Add Groq API retry logic for transient failures","description":"No retry on 429 rate limit or 5xx errors. Use Req's :retry option for transient failures with exponential backoff.","status":"closed","priority":3,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T21:22:46.977011402-05:00","created_by":"phiat","updated_at":"2026-02-16T20:56:35.996791379-05:00","closed_at":"2026-02-16T20:56:35.996791379-05:00","close_reason":"Closed"}
{"id":"mc-fun-41","title":"Implement Groq function/tool calling for bot actions","description":"Replace regex-based ActionParser with structured Groq tool calling. LLM returns tool_calls with action name and args instead of relying on trigger phrases in response text. ActionParser kept as fallback for models without tool support.","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T22:41:34.235905765-05:00","created_by":"phiat","updated_at":"2026-02-15T22:41:40.540417113-05:00","closed_at":"2026-02-15T22:41:40.540417113-05:00","close_reason":"Implemented tool calling in Groq client (supports tools param, parses tool_calls from response). ChatBot defines 9 tools (goto_player, follow_player, dig, jump, attack, drop, sneak, craft, equip), dispatches via execute_tool/4. Regex ActionParser kept as fallback for non-tool-call responses. Personality prompt updated for tool-calling."}
{"id":"mc-fun-42","title":"Port resource leak in Bot.ex — no terminate/2","description":"Bot GenServer opens Erlang Port to Node.js bridge but has no terminate/2 callback. When bot stops or crashes, port stays open leaving orphaned Node.js processes.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T22:58:58.907068533-05:00","created_by":"phiat","updated_at":"2026-02-16T00:02:54.694688356-05:00","closed_at":"2026-02-16T00:02:54.694688356-05:00","close_reason":"Added terminate/2 to Bot.ex that closes port on shutdown, set port to nil on exit_status"}
{"id":"mc-fun-43","title":"Tool execution crash if bot dies mid-call","description":"ChatBot.handle_info for llm_response executes tool calls via Bot.send_command (GenServer.call) without try/catch. If bot dies between response and execution, ChatBot crashes.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T22:59:22.79742425-05:00","created_by":"phiat","updated_at":"2026-02-16T00:02:54.714423364-05:00","closed_at":"2026-02-16T00:02:54.714423364-05:00","close_reason":"Wrapped tool execution in try/catch in ChatBot handle_info for tool_calls"}
{"id":"mc-fun-44","title":"Infinite recursion risk in BotBehaviors.start_behavior","description":"start_behavior retry on {:already_started, _} calls stop then retries with no max retries or delay. If stop fails silently, infinite recursion.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T22:59:42.492523431-05:00","created_by":"phiat","updated_at":"2026-02-16T00:02:54.73308376-05:00","closed_at":"2026-02-16T00:02:54.73308376-05:00","close_reason":"Added Process.sleep(50) to BotBehaviors retry path to break race condition"}
{"id":"mc-fun-45","title":"Port liveness unchecked in Bot command handler","description":"Bot.handle_call({:command, _}) calls Port.command without checking Port.info first. poll_position does check. Can crash on dead port.","status":"closed","priority":2,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T22:59:51.051258913-05:00","created_by":"phiat","updated_at":"2026-02-16T00:02:54.752774373-05:00","closed_at":"2026-02-16T00:02:54.752774373-05:00","close_reason":"Added Port.info guard to handle_call :command and :survey in Bot.ex"}
{"id":"mc-fun-46","title":"Spurious join events on app restart","description":"LogWatcher starts with empty player set. First poll triggers :player_join for all already-online players, causing duplicate welcome effects.","status":"closed","priority":2,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T22:59:54.515796909-05:00","created_by":"phiat","updated_at":"2026-02-15T23:52:05.307373034-05:00","closed_at":"2026-02-15T23:52:05.307373034-05:00","close_reason":"First poll now silently populates player set without firing join events"}
{"id":"mc-fun-47","title":"Display.write and Music.play block caller","description":"Both functions use synchronous Process.sleep loops. Display: 50ms per block. Music: duration per note. Can block LiveView or GenServer for seconds.","status":"closed","priority":2,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T22:59:58.955023684-05:00","created_by":"phiat","updated_at":"2026-02-16T12:58:19.551303-05:00","closed_at":"2026-02-16T12:58:19.551303-05:00","close_reason":"Duplicate of mc-fun-72"}
{"id":"mc-fun-48","title":"Bot card model dropdown not pre-selected","description":"Bot card and modal model <select> missing selected attribute on options. Dropdown shows first model instead of bot's current model.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-15T23:00:03.61420414-05:00","created_by":"phiat","updated_at":"2026-02-16T00:03:31.334022876-05:00","closed_at":"2026-02-16T00:03:31.334022876-05:00","close_reason":"Fixed in previous session - added selected attribute to bot card and modal select options"}
{"id":"mc-fun-49","title":"Add mine behavior to BotBehaviors","description":"Add a tick-based mine behavior that takes a block type (e.g. coal_ore) and max distance. Each tick: findBlocks to locate nearest matching block, pathfind to it, dig it, repeat until none left or stopped. Add corresponding mine_block tool to ChatBot so LLM can invoke it. Needs new bridge.js command find_blocks that wraps bot.findBlocks().","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T23:21:33.445344398-05:00","created_by":"phiat","updated_at":"2026-02-16T17:39:15.033106833-05:00","closed_at":"2026-02-16T17:39:15.033106833-05:00","close_reason":"Implemented mine behavior with find_and_dig loop, max_count tracking, UI in config modal. Fixed race condition with Registry polling instead of sleep."}
{"id":"mc-fun-5","title":"Mineflayer Node.js bridge + Elixir Port","description":"Node.js bridge.js with stdin/stdout JSON protocol, Elixir Port GenServer, DynamicSupervisor for bots","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T16:44:57.429370398-05:00","created_by":"phiat","updated_at":"2026-02-15T16:57:27.356583447-05:00","closed_at":"2026-02-15T16:57:27.356583447-05:00","close_reason":"Mineflayer bridge.js, Bot GenServer, BotSupervisor, Registry all working. Bot connects and spawns in-game.","dependencies":[{"issue_id":"mc-fun-5","depends_on_id":"mc-fun-2","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"mc-fun-50","title":"Add PLAYERS tab to dashboard with live player status cards","description":"Poll player health/food/position/dimension via RCON data get entity, display in player cards on a new PLAYERS tab","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T00:30:37.930794835-05:00","created_by":"phiat","updated_at":"2026-02-16T00:30:41.516225546-05:00","closed_at":"2026-02-16T00:30:41.516225546-05:00","close_reason":"Implemented: LogWatcher polls entity data for online players, new player_card component, PLAYERS tab on dashboard with HP/food/position/dimension"}
{"id":"mc-fun-51","title":"Unified bot action/state layer","description":"Add action tracking, stop/cancel, behavior yielding, and context enrichment across bridge.js, bot.ex, bot_behaviors.ex, chat_bot.ex","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T09:17:00.917227218-05:00","created_by":"phiat","updated_at":"2026-02-16T09:21:37.007312235-05:00","closed_at":"2026-02-16T09:21:37.007312235-05:00","close_reason":"Implemented unified bot action/state layer across 4 files"}
{"id":"mc-fun-52","title":"Umbrella reorg: eliminate double nesting","description":"Convert mc-fun/mc_fun/ to an Elixir umbrella: flat repo root + clean engine/web split into apps/mc_fun and apps/mc_fun_web","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T09:59:20.33880319-05:00","created_by":"phiat","updated_at":"2026-02-16T10:26:35.729805619-05:00","closed_at":"2026-02-16T10:26:35.729805619-05:00","close_reason":"Umbrella reorg complete: 5 incremental commits on umbrella-reorg branch"}
{"id":"mc-fun-53","title":"Fix player data fetching - use execute as command","description":"Dashboard PLAYERS tab shows names but no data. Replace 'data get entity <player>' with 'execute as <player> run data get entity @s'. Add Logger.warning on failures.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:27:04.976934052-05:00","created_by":"phiat","updated_at":"2026-02-16T11:29:40.380326698-05:00","closed_at":"2026-02-16T11:29:40.380326698-05:00","close_reason":"Closed"}
{"id":"mc-fun-54","title":"Improve LogWatcher logging","description":"Add Logger.warning on RCON command failure and parse failure in fetch_single_player_data. Log info on first successful data fetch.","status":"closed","priority":2,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:27:07.102077123-05:00","created_by":"phiat","updated_at":"2026-02-16T11:29:40.380357422-05:00","closed_at":"2026-02-16T11:29:40.380357422-05:00","close_reason":"Closed"}
{"id":"mc-fun-55","title":"Make parse_player_list/1 public for testing","description":"Change defp parse_player_list/1 to def parse_player_list/1 so smoke tests can verify parsing without RCON.","status":"closed","priority":2,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:27:08.743321918-05:00","created_by":"phiat","updated_at":"2026-02-16T11:29:40.380360303-05:00","closed_at":"2026-02-16T11:29:40.380360303-05:00","close_reason":"Closed"}
{"id":"mc-fun-56","title":"Add mix mc.status diagnostic command","description":"Single command checking RCON, players, player data, LogWatcher, EventStore, PubSub, BotRegistry. Prints pass/fail for each.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:27:10.68164297-05:00","created_by":"phiat","updated_at":"2026-02-16T11:29:40.380363392-05:00","closed_at":"2026-02-16T11:29:40.380363392-05:00","close_reason":"Closed"}
{"id":"mc-fun-57","title":"Add mix mc.events live event watcher","description":"Subscribes to all PubSub topics and prints events to terminal. Streams until Ctrl+C.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:27:11.975448516-05:00","created_by":"phiat","updated_at":"2026-02-16T11:29:40.380365405-05:00","closed_at":"2026-02-16T11:29:40.380365405-05:00","close_reason":"Closed"}
{"id":"mc-fun-58","title":"Add smoke tests","description":"Tests tagged @tag :smoke requiring live RCON. Test RCON connectivity, LogWatcher alive, EventStore round-trip, PubSub delivery, parse_player_list, player data.","status":"closed","priority":2,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:27:13.765960721-05:00","created_by":"phiat","updated_at":"2026-02-16T11:29:40.380368888-05:00","closed_at":"2026-02-16T11:29:40.380368888-05:00","close_reason":"Closed"}
{"id":"mc-fun-59","title":"Fix LogWatcher defaulting to stale file mode","description":"Default MC_LOG_PATH was ./data/logs/latest.log which existed stale from Docker. LogWatcher entered file mode, never polled RCON, so no player data. Fix: default log_path to nil so RCON mode is used when MC_LOG_PATH is not set.","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:35:26.91197939-05:00","created_by":"phiat","updated_at":"2026-02-16T11:35:31.905198279-05:00","closed_at":"2026-02-16T11:35:31.905198279-05:00","close_reason":"Removed default log_path from runtime.exs. Now defaults to nil (RCON mode) unless MC_LOG_PATH is explicitly set. Also added 3s startup delay in mix mc.status to wait for first poll."}
{"id":"mc-fun-6","title":"Groq LLM chat bots","description":"Groq API client, ChatBot behavior listening to mineflayer events, personality system prompts, conversation memory","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T16:44:58.997175689-05:00","created_by":"phiat","updated_at":"2026-02-15T17:03:10.640335068-05:00","closed_at":"2026-02-15T17:03:10.640335068-05:00","close_reason":"Groq client, ChatBot GenServer with conversation memory, personality presets, rate limiting all implemented","dependencies":[{"issue_id":"mc-fun-6","depends_on_id":"mc-fun-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"mc-fun-6","depends_on_id":"mc-fun-3","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"mc-fun-60","title":"Build SNBT recursive descent parser","description":"McFun.SNBT.Parser - single-pass recursive descent parser for SNBT. Handles compounds, lists, typed arrays, typed numbers, quoted/bare strings, booleans. Returns {:ok, term, rest} | {:error, reason}.","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:52:41.348586867-05:00","created_by":"phiat","updated_at":"2026-02-16T11:57:05.818197141-05:00","closed_at":"2026-02-16T11:57:05.818197141-05:00","close_reason":"Closed"}
{"id":"mc-fun-61","title":"Build SNBT public API module","description":"McFun.SNBT - parse/1, parse_entity_response/1, get/2 for path access. Strips RCON prefixes. Wraps Parser.","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:52:41.373451458-05:00","created_by":"phiat","updated_at":"2026-02-16T11:57:05.818224354-05:00","closed_at":"2026-02-16T11:57:05.818224354-05:00","close_reason":"Closed"}
{"id":"mc-fun-62","title":"Add SNBT unit tests","description":"Test scalars, compounds, nested structures, typed arrays, truncation, edge cases, real MC output. No RCON needed.","status":"closed","priority":1,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:52:41.396405842-05:00","created_by":"phiat","updated_at":"2026-02-16T11:57:05.818227699-05:00","closed_at":"2026-02-16T11:57:05.818227699-05:00","close_reason":"Closed"}
{"id":"mc-fun-63","title":"Integrate SNBT parser into LogWatcher","description":"Replace regex-based entity parsing with SNBT.parse_entity_response. Keep field-query fallback for truncation. Remove dead regex code.","status":"closed","priority":1,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T11:52:41.420879871-05:00","created_by":"phiat","updated_at":"2026-02-16T11:57:05.818230126-05:00","closed_at":"2026-02-16T11:57:05.818230126-05:00","close_reason":"Closed"}
{"id":"mc-fun-64","title":"Add webhook authentication and rate limiting","description":"WebhookController accepts POST requests without authentication. Any source can trigger effects, announcements, or manipulate the server. Add API token auth (Bearer header), rate limiting, and log webhook attempts with source IP. Files: webhook_controller.ex, router.ex","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:07.445280928-05:00","created_by":"phiat","updated_at":"2026-02-16T13:13:45.948199806-05:00","closed_at":"2026-02-16T13:13:45.948199806-05:00","close_reason":"Implemented in aec28b3"}
{"id":"mc-fun-65","title":"Extract DashboardLive into LiveComponents","description":"DashboardLive is 742 lines with 50+ handle_event callbacks covering 6 tabs. Extract each tab into a LiveComponent: BotsPanelComponent, PlayersPanelComponent, RconConsoleComponent, EffectsPanelComponent, DisplayPanelComponent, EventStreamComponent. Also extract bot_config_modal (332 lines) into a LiveComponent. Benefits: separation of concerns, easier testing, reduced LiveView process load.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:10.668508734-05:00","created_by":"phiat","updated_at":"2026-02-16T15:26:56.719224901-05:00","closed_at":"2026-02-16T15:26:56.719224901-05:00","close_reason":"Extracted 5 LiveComponents from DashboardLive: RconConsoleLive, EventStreamLive, EffectsPanelLive, DisplayPanelLive, BotConfigModalLive. Parent reduced from 903→511 lines. Removed bot_config_modal from dashboard_components.ex. All tests pass, compile/format/credo clean."}
{"id":"mc-fun-66","title":"Bridge.js stability: reconnection, memory leak, timeouts","description":"Three stability issues in bridge.js: (1) No reconnection after disconnect — bot exits on 'end' event instead of retrying with backoff. (2) Pathfinder goal_reached listeners leak if goals are cancelled/interrupted. (3) Async actions (dig, place, equip, craft) have no timeout — can hang indefinitely. Also add command queue to prevent concurrent action conflicts. Files: bridge.js","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:14.834233224-05:00","created_by":"phiat","updated_at":"2026-02-16T13:29:55.16427003-05:00","closed_at":"2026-02-16T13:29:55.16427003-05:00","close_reason":"Implemented reconnection with exponential backoff, goal_reached listener cleanup, async action timeouts via withTimeout, command queue for async actions, coordinate validation, and new commands (activate_block, use_item, deactivate_item, sleep, wake, status). Bot.ex updated with Elixir wrappers and disconnected/reconnecting event handlers."}
{"id":"mc-fun-67","title":"Bridge.js: expose missing mineflayer capabilities","description":"Several useful mineflayer APIs aren't exposed: activate_block (buttons/levers/chests), use_item (eat food), sleep/wake, armor management, window management (openChest/openFurnace). Also add: coordinate validation for move/goto/dig, cancellation for find_and_dig, status command for internal state (pathfinder moving, digging, control states), digging progress events. Files: bridge.js","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:19.411242549-05:00","created_by":"phiat","updated_at":"2026-02-16T13:29:55.165039338-05:00","closed_at":"2026-02-16T13:29:55.165039338-05:00","close_reason":"Implemented reconnection with exponential backoff, goal_reached listener cleanup, async action timeouts via withTimeout, command queue for async actions, coordinate validation, and new commands (activate_block, use_item, deactivate_item, sleep, wake, status). Bot.ex updated with Elixir wrappers and disconnected/reconnecting event handlers."}
{"id":"mc-fun-68","title":"ChatBot async safety: unblock GenServer, add tool timeouts","description":"Two blocking issues in ChatBot: (1) spawn_response calls fetch_survey (10s timeout GenServer.call) inside ChatBot process BEFORE spawning Task — blocks ChatBot from processing other messages. Move survey/status calls inside the Task. (2) Tool execution (execute_tool) has no timeout protection — if Bot port is dead, blocks indefinitely. Wrap in Task.async/await with timeout. Files: chat_bot.ex","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:23.604970184-05:00","created_by":"phiat","updated_at":"2026-02-16T13:00:42.296160913-05:00","closed_at":"2026-02-16T13:00:42.296160913-05:00","close_reason":"Moved tool execution and send_paginated into async Tasks in both LLM response handlers"}
{"id":"mc-fun-69","title":"Reorganize world manipulation modules under McFun.World","description":"Redstone, Effects, Display, and Music are all RCON-based world manipulation but sit at different levels. Reorganize: mc_fun/redstone/ → mc_fun/world/redstone/, mc_fun/effects.ex → mc_fun/world/effects.ex, mc_fun/display/ → mc_fun/world/display/, mc_fun/music.ex → mc_fun/world/music.ex. Parent namespace McFun.World groups all world-state manipulation. Example the user specifically cited: 'redstone/ should be blocks/redstone'","status":"closed","priority":3,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:25.978387997-05:00","created_by":"phiat","updated_at":"2026-02-16T20:56:35.996819627-05:00","closed_at":"2026-02-16T20:56:35.996819627-05:00","close_reason":"Closed"}
{"id":"mc-fun-7","title":"Music player system","description":"Note/pitch mapping, song format parser, RCON playsound commands, tempo control","status":"closed","priority":3,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T16:45:00.375207233-05:00","created_by":"phiat","updated_at":"2026-02-15T17:04:40.195731023-05:00","closed_at":"2026-02-15T17:04:40.195731023-05:00","close_reason":"Music player with note/pitch mapping, song file parser, 3 sample songs, mix tasks for play and inline"}
{"id":"mc-fun-70","title":"Reduce LogWatcher RCON polling overhead","description":"LogWatcher fetches full entity data for every online player every 2s via RCON. With 3 players, that's 3-12 RCON commands every 2 seconds. Improvements: (1) Separate poll rates for player list (2s) vs player data (10s). (2) Only fetch data when player set changes. (3) Cache player data and refresh on-demand. (4) Make poll intervals configurable. Files: log_watcher.ex, runtime.exs","status":"closed","priority":2,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:32.635149741-05:00","created_by":"phiat","updated_at":"2026-02-16T13:13:45.948226815-05:00","closed_at":"2026-02-16T13:13:45.948226815-05:00","close_reason":"Implemented in aec28b3"}
{"id":"mc-fun-71","title":"RCON connection health monitoring and circuit breaker","description":"Rcon GenServer has no proactive health check. Silently dead connections (firewall timeout, half-open socket) aren't detected until a command times out (5s). Add: periodic heartbeat via 'list' command every 30-60s, pre-emptive reconnect on heartbeat failure, circuit breaker to fail-fast during outages, health state tracking. Files: rcon.ex","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:36.477957649-05:00","created_by":"phiat","updated_at":"2026-02-16T13:13:45.948229629-05:00","closed_at":"2026-02-16T13:13:45.948229629-05:00","close_reason":"Implemented in aec28b3"}
{"id":"mc-fun-72","title":"Make Music and Display operations non-blocking","description":"Music.play_notes and Display.write use Process.sleep in calling process, blocking it for the entire duration (could be 50+ seconds for long songs). Convert to Task-based async: return {:ok, pid} for monitoring/cancellation. Also make delays configurable. Files: music.ex, display.ex","status":"open","priority":3,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:39.925321436-05:00","created_by":"phiat","updated_at":"2026-02-16T12:56:39.925321436-05:00"}
{"id":"mc-fun-73","title":"Externalize hardcoded configuration values","description":"Several important tunables are module attributes instead of Application config: ChatBot (@max_history 20, @rate_limit_ms 2000, @chat_line_length 180), LogWatcher (@default_poll_interval 2000), EventStore (@max_events 200), BotBehaviors (@tick_interval 1000). Move to config/runtime.exs with current values as defaults, read via Application.get_env/3. Also make BotBehaviors tick_interval configurable per-behavior type. Files: chat_bot.ex, log_watcher.ex, event_store.ex, bot_behaviors.ex, runtime.exs","status":"closed","priority":3,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:44.337507009-05:00","created_by":"phiat","updated_at":"2026-02-16T15:12:16.482776425-05:00","closed_at":"2026-02-16T15:12:16.482776425-05:00","close_reason":"Removed hardcoded RCON passwords, hostnames, and PII from CLAUDE.md, runtime.exs, docker-compose.yml, log_watcher.ex, system-diagram.txt"}
{"id":"mc-fun-74","title":"Dashboard UX: URL tab state, LiveView streams, error boundaries","description":"Several web UX improvements: (1) Store active tab in URL query param for deep linking/back button. (2) Use LiveView streams for event log (better DOM diffing). (3) Add error boundaries for async Tasks (RCON, LLM, Effects) — send error messages to user instead of silent failure. (4) Add focus trap to bot config modal for keyboard accessibility. Files: dashboard_live.ex, dashboard_live.html.heex, dashboard_components.ex","status":"closed","priority":3,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:48.629924643-05:00","created_by":"phiat","updated_at":"2026-02-16T19:21:52.655018052-05:00","closed_at":"2026-02-16T19:21:52.655018052-05:00","close_reason":"Implemented URL tab state (handle_params + push_patch), async error boundaries (try/rescue on all Task.start calls), and modal keyboard a11y (Escape key + focus_wrap)"}
{"id":"mc-fun-75","title":"Bridge.js modularization and test coverage","description":"bridge.js is 945 lines and growing. Split into modules: bridge.js (entry/protocol), commands/movement.js, commands/world.js, commands/inventory.js, commands/info.js, commands/chat.js, events.js, utils.js. Add Node.js test suite for bridge protocol (mock stdin/stdout, test command→event flow, test error cases). Standardize error format and add correlation IDs. Files: bridge.js → bridge.js + commands/*.js + tests/","status":"open","priority":4,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T12:56:52.843524576-05:00","created_by":"phiat","updated_at":"2026-02-16T20:09:21.333202608-05:00"}
{"id":"mc-fun-76","title":"Dashboard: coord sharing, entity dropdowns, RCON command palette","description":"Three features: 1) Copy coords from bot/player cards to Display/FX panels, 2) Entity picker dropdowns in FX and Display, 3) RCON quick command palette with mini-forms, 4) Tab-repeat last command in RCON","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T13:46:07.298832183-05:00","created_by":"phiat","updated_at":"2026-02-16T13:49:57.505104861-05:00","closed_at":"2026-02-16T13:49:57.505104861-05:00","close_reason":"Implemented coord sharing, entity dropdowns, RCON command palette"}
{"id":"mc-fun-77","title":"Extract Units/Deploy panel into LiveComponent","description":"Extract the Units tab (deploy panel, bot cards, bot actions) from DashboardLive into a LiveComponent. This is the most coupled tab since it shares bots, bot_statuses, deploy config state with the parent. Requires careful design of parent↔component communication for bot deploy, stop, attach_chatbot, model selection, preset selection, and personality editing.","status":"closed","priority":3,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T15:26:50.668383628-05:00","created_by":"phiat","updated_at":"2026-02-16T15:34:13.872506946-05:00","closed_at":"2026-02-16T15:34:13.872506946-05:00","close_reason":"Extracted Units/Deploy panel into UnitsPanelLive LiveComponent"}
{"id":"mc-fun-78","title":"Investigate async RCON architecture","description":"Current RCON is a single GenServer with one TCP connection — all calls serialize through it. Investigate options: (1) RCON connection pool, (2) async cast-based commands for fire-and-forget, (3) pipelining multiple queries. See discussion in commit 48b2a75 context.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T16:16:37.459253611-05:00","created_by":"phiat","updated_at":"2026-02-16T20:07:15.761794639-05:00","closed_at":"2026-02-16T20:07:15.761794639-05:00","close_reason":"Already implemented — Rcon is a routing facade with dedicated command lane + round-robin poll pool"}
{"id":"mc-fun-79","title":"Hybrid RCON: dedicated command lane + poll pool","description":"Split single RCON GenServer into dedicated interactive connection + pool of poll connections. Facade routing, round-robin poll, parallel player data fetches.","status":"closed","priority":1,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T16:22:56.197263209-05:00","created_by":"phiat","updated_at":"2026-02-16T16:25:06.686334101-05:00","closed_at":"2026-02-16T16:25:06.686334101-05:00","close_reason":"Closed"}
{"id":"mc-fun-8","title":"Redstone bridge + display","description":"Command block manager, named circuits, block-font display system","status":"closed","priority":3,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T16:45:01.693071154-05:00","created_by":"phiat","updated_at":"2026-02-15T17:29:53.20656222-05:00","closed_at":"2026-02-15T17:29:53.20656222-05:00","close_reason":"Closed"}
{"id":"mc-fun-80","title":"ChatBot: tool call with empty response skips chat reply","description":"When Groq returns tool_calls with empty text response, bot executes tool but sends no chat message. User asked for joke + come here, got only goto. Need to ensure bot always replies even when response text is empty.","status":"closed","priority":2,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-16T16:22:56.921157443-05:00","created_by":"phiat","updated_at":"2026-02-16T16:25:06.686359906-05:00","closed_at":"2026-02-16T16:25:06.686359906-05:00","close_reason":"Closed"}
{"id":"mc-fun-81","title":"ChatBot follow-up calls + ambient heartbeat","description":"Two features: (1) Follow-up LLM call when tool response has empty text, so the bot always says something witty alongside actions. (2) Ambient heartbeat timer that fires periodic LLM calls for personality chat — 15s during behaviors, 2m idle, with 10s cooldown after player conversations.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T16:35:13.6989971-05:00","created_by":"phiat","updated_at":"2026-02-16T16:35:15.383770906-05:00","closed_at":"2026-02-16T16:35:15.383770906-05:00","close_reason":"Implemented follow-up chat on empty tool responses and ambient heartbeat timer in ChatBot"}
{"id":"mc-fun-82","title":"Token cost tracking + server health indicator","description":"Persistent per-bot token/cost tracking via CostTracker GenServer, displayed in dashboard header and bot cards. Server health indicator based on RCON status.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T16:56:27.633206093-05:00","created_by":"phiat","updated_at":"2026-02-16T16:58:41.864480677-05:00","closed_at":"2026-02-16T16:58:41.864480677-05:00","close_reason":"Implemented CostTracker GenServer with ETS+disk persistence, Groq.chat PubSub cost broadcasting, dashboard header cost/health display, per-bot cost in bot cards. All tests pass, credo strict clean."}
{"id":"mc-fun-83","title":"Make heartbeat/random-thought feature togglable with UI toggle","description":"The ChatBot heartbeat (ambient random thoughts every 15s during behaviors) should be togglable per-bot. Add a toggle in the bot config modal and/or bot card to enable/disable heartbeat. Currently heartbeat always fires when a behavior is active. Should persist the setting per-bot and allow runtime toggling from the dashboard.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T16:58:37.287067769-05:00","created_by":"phiat","updated_at":"2026-02-16T17:07:34.925975584-05:00","closed_at":"2026-02-16T17:07:34.925975584-05:00","close_reason":"Added heartbeat_enabled field, toggle_heartbeat/2 API, heartbeat check in handler, UI toggles in bot card and config modal"}
{"id":"mc-fun-84","title":"Show last bot message in bot card (collapsible)","description":"Add the last LLM response message to the bot card below inventory in a collapsible section (default collapsed). Shows most recent thing the bot said.","status":"closed","priority":3,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T17:03:45.690988314-05:00","created_by":"phiat","updated_at":"2026-02-16T17:07:34.947472894-05:00","closed_at":"2026-02-16T17:07:34.947472894-05:00","close_reason":"Added last_message tracking in ChatBot, collapsible LAST MESSAGE section in bot card using HTML details element"}
{"id":"mc-fun-85","title":"World map renderer in dashboard","description":"Add a visual world map renderer to the dashboard showing bot and player positions, explored terrain, and key landmarks. New dashboard tab or panel.","status":"open","priority":3,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T17:06:38.147406366-05:00","created_by":"phiat","updated_at":"2026-02-16T17:06:38.147406366-05:00"}
{"id":"mc-fun-86","title":"Extract default_personality to shared config","description":"Default personality string duplicated in chat_bot.ex, units_panel_live.ex, and bot_config_modal_live.ex. Extract to Application config or shared module.","status":"closed","priority":3,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T17:07:26.754616571-05:00","created_by":"phiat","updated_at":"2026-02-16T17:28:59.643389638-05:00","closed_at":"2026-02-16T17:28:59.643389638-05:00","close_reason":"Extracted to :chat_bot config with CHATBOT_DEFAULT_PERSONALITY env override"}
{"id":"mc-fun-87","title":"DashboardLive: unsubscribe from dead bot PubSub topics","description":"In handle_info(:refresh_status), subscribes to new bot topics but never unsubscribes when bots are stopped. Accumulates stale subscriptions over time. Track subscribed bots and unsubscribe on bot list shrink.","status":"closed","priority":3,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-16T17:07:27.359741371-05:00","created_by":"phiat","updated_at":"2026-02-16T17:14:15.628899003-05:00","closed_at":"2026-02-16T17:14:15.628899003-05:00","close_reason":"Closed"}
{"id":"mc-fun-88","title":"Bot.ex: cancel poll timers on terminate","description":"Bot.ex uses :timer.send_interval for position/inventory polling but never cancels the timers in terminate/2. Store timer refs in state and cancel them on shutdown.","status":"closed","priority":4,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-16T17:07:27.804663869-05:00","created_by":"phiat","updated_at":"2026-02-16T17:14:15.628923192-05:00","closed_at":"2026-02-16T17:14:15.628923192-05:00","close_reason":"Closed"}
{"id":"mc-fun-89","title":"LogWatcher: bound Task.async_stream concurrency for player data","description":"Task.async_stream with max_concurrency: pool_size() can still starve RCON pool if many players are online. Cap to a fixed limit like min(length(players), 8).","status":"closed","priority":4,"issue_type":"task","owner":"phiat99@gmail.com","created_at":"2026-02-16T17:07:28.357954535-05:00","created_by":"phiat","updated_at":"2026-02-16T17:14:15.628925999-05:00","closed_at":"2026-02-16T17:14:15.628925999-05:00","close_reason":"Closed"}
{"id":"mc-fun-9","title":"Notification system + log watcher","description":"Webhook endpoint, event hooks, fireworks/effects, server log SSH tail parser","status":"closed","priority":3,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-15T16:45:03.271132363-05:00","created_by":"phiat","updated_at":"2026-02-15T17:29:53.229019977-05:00","closed_at":"2026-02-15T17:29:53.229019977-05:00","close_reason":"Closed"}
{"id":"mc-fun-90","title":"BotBehaviors: race condition in start_behavior retry","description":"On {:already_started, _}, stops existing behavior, sleeps 50ms, retries. No guarantee stop completed. Could fail or attach wrong behavior. Increase sleep or poll Registry.","status":"closed","priority":4,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-16T17:07:28.860848895-05:00","created_by":"phiat","updated_at":"2026-02-16T17:39:15.033149222-05:00","closed_at":"2026-02-16T17:39:15.033149222-05:00","close_reason":"Implemented mine behavior with find_and_dig loop, max_count tracking, UI in config modal. Fixed race condition with Registry polling instead of sleep."}
{"id":"mc-fun-91","title":"BotChat coordinator: centralized bot-to-bot interaction","description":"Extract bot-to-bot chat from ChatBot into dedicated McFun.BotChat singleton GenServer with configurable parameters, topic injection, per-bot group chat toggle, single-responder selection, and dashboard UI controls.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T18:34:57.55566064-05:00","created_by":"phiat","updated_at":"2026-02-16T18:37:20.349033604-05:00","closed_at":"2026-02-16T18:37:20.349033604-05:00","close_reason":"Implemented and committed"}
{"id":"mc-fun-92","title":"Chat Log + Chat Viewer Tab","description":"Add ChatLog GenServer for persistent JSONL storage and CHAT tab with color-coded message rendering","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T18:57:52.455916542-05:00","created_by":"phiat","updated_at":"2026-02-16T19:01:21.213350285-05:00","closed_at":"2026-02-16T19:01:21.213350285-05:00","close_reason":"ChatLog GenServer + ChatPanelLive implemented"}
{"id":"mc-fun-93","title":"Strip REPLY: prefix from LLM response broadcasts","description":"broadcast_llm_event was sending raw LLM text (with REPLY: prefix) to PubSub. ChatLog logged it as-is, causing 'REPLY: ...' to appear in the chat panel. Fix: broadcast the stripped reply instead of raw response in all 4 code paths (tool calls, text-only, heartbeat, heartbeat+tools).","status":"closed","priority":1,"issue_type":"bug","owner":"phiat99@gmail.com","created_at":"2026-02-16T20:10:46.768998612-05:00","created_by":"phiat","updated_at":"2026-02-16T20:10:49.869111386-05:00","closed_at":"2026-02-16T20:10:49.869111386-05:00","close_reason":"Fixed all 4 broadcast_llm_event call sites to pass stripped reply instead of raw response"}
{"id":"mc-fun-94","title":"Expandable inventory + drop item/all actions","description":"Make bot card inventory collapsible with <details>. Add drop_item (by name+count) and drop_all actions to bridge.js, Bot API, ChatBot tools, and modal UI.","status":"closed","priority":2,"issue_type":"feature","owner":"phiat99@gmail.com","created_at":"2026-02-16T20:27:48.152105494-05:00","created_by":"phiat","updated_at":"2026-02-16T20:27:51.796798648-05:00","closed_at":"2026-02-16T20:27:51.796798648-05:00","close_reason":"Implemented expandable inventory in bot cards, drop_item and drop_all in bridge.js/Bot/ChatBot/modal"}
